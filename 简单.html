<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>题库</title>
    <style>
        .red {
            color: red;
        }
    </style>
</head>
<body>
<p class="red">121.买股票的最佳时机</p>
<script data-msg="121.买股票的最佳时机">
    (() => {
        function getValue(arr) {
            //  如果一共就一天，没得买
            if (arr.length < 2) {
                return 0;
            }
            //  历史最低的index，需要一直变动，更新，将来的大值要减去这个值
            let _minIndex = 0;
            //  最大差值，如果将来某个值减去历史最大值比这个值还大，需要更新
            let _diff = 0;
            for (let i = 1; i < arr.length; i++) {
                //  如果是历史最低值
                if (arr[i] - arr[_minIndex] < 0) {
                    _minIndex = i;
                    //  肯定没戏了
                    continue;
                }
                //  如果比差值大，记录这个值-最低值
                if (arr[i] - arr[_minIndex] > _diff) {
                    _diff = arr[i] - arr[_minIndex];
                }
            }
            return {_minIndex, _diff}
        }

        const arr = [2, 0, 2, -33, 33, 3, 9, 43, -214, -222];
        // console.log(getValue(arr));
    })();
</script>
<p>122.买股票2</p>
<script data-msg="122.买股票2">
    (() => {
        const arr = [2, 32, 60, -1, 43, 43, 32, -333, 3];

        function getValue(arr) {
            if (arr.length < 1) {
                return 0;
            }
            //  总价
            let total = 0;
            for (let i = 1; i < arr.length; i++) {
                let diff = arr[i] - arr[i - 1];
                //  如果跌了
                if (diff < 0) {
                    //  等下一次
                    continue;
                }
                total += diff;
            }
            return {
                total,
            }
        }

        // console.log(getValue(arr));
    })();
</script>
<p>125.验证回文串</p>
<script data-msg="125.验证回文串">
    (() => {
        let str = '1112345432111';

        function getValue(str) {
            let len = str.length;
            for (let i = 0; i < len / 2; i++) {
                if (str[i] !== str[(len - 1) - i]) {
                    return false;
                }
            }
            return true;
        }

        // console.log(getValue(str));
    })();
</script>
<p class="red">136.只有一次的数字</p>
<script data-msg="136.只有一次的数字">
    (function () {
        //  异或计算，一趟搞定。时间复杂度o(n)，答案为３，因为两个相同的数异或为０．
        const arr = [23, 4, 23, 43, 23, 44, 2, 4, 43, 23, 44, 2, 37];
        let value = 0;
        for (let i = 0; i < arr.length; i++) {
            value ^= arr[i];
            // console.log(value);
        }
        // console.log(value);

        //  拓展
        const a = [2, 3, 4, 5, 6, 7, 8, 9, 21, 33, 66];
        const _a = [2, 3, 4, 5, 6, 7, 7, 8, 9, 21, 33, 66];
        let _value = 0;
        let _value_ = 0;
        for (let i = 0; i < a.length; i++) {
            _value ^= a[i];
        }
        for (let i = 0; i < _a.length; i++) {
            _value_ ^= _a[i];
        }
        // console.log(_value ^ _value_);

    })();
</script>
<p>141.环形链表</p>
<script data-msg="141.环形链表">
    //  判断有没有环形链表
    (() => {
        const arr = createList(10);

        function createList(len) {
            const arr = new Array(len);
            for (let i = len - 1; i >= 0; i--) {
                arr[i] = {value: i, next: arr[i + 1] || null};
            }
            return arr;
        }

        // console.log(arr);
        // arr[9].next = arr[3];

        function circle(node) {
            //  如果没有了
            if (!node) {
                return false;
            }
            //  如果是重复了，说明闭环了
            if (node.flag) {
                return true;
            }
            //  如果没有重复
            if (node.flag === undefined) {
                node.flag = true;
            }
            return circle(node.next);
        }

        const isCircle = circle(arr[0]);
        // console.log(isCircle);

    })();
</script>
<p>160.相交链表</p>
<script data-msg="160.相交链表">
    (() => {
        function setFlag(node) {
            if (!node) {
                return false;
            }
            if (node.flag) {
                return node;
            }
            node.flag = true;
            return setFlag(node.next);
        }
    })();
</script>
<p>167.两数之和2，输入有序数组</p>
<script data-msg="167.两数之和2，输入有序数组">
    (() => {
        const arr = [1, 2, 4, 5, 8, 322, 566, 881];

        function getValue(arr, target) {
            const hash = {};
            for (let i = 0; i < arr.length; i++) {
                const _hashVal = hash[target - arr[i]];
                if (_hashVal === undefined) {
                    hash[arr[i]] = i;
                    continue;
                }
                return [_hashVal, i];
            }
            return null;
        }

        // const res = getValue(arr, 566 + 2);
        // console.log(res);
    })();
</script>
<p class="red">168.excel表列名称</p>
<script>
    (() => {
        const el = 'abcdefghijklmnopqrstuvwxyz'.split('');

        // console.log(el);

        function getValue(num) {
            const arr = [];
            while (num > 0) {
                if (num === 26) {
                    arr.unshift(el[num - 1]);
                } else {
                    arr.unshift(el[num % (el.length) - 1]);
                }
                num = Math.floor(num / (el.length + 1));
            }
            // console.log(arr);
            return arr;
        }

        const res = getValue(701);

        // console.log(res);

        function a(n) {
            let ans = '';
            while (n) {
                if (n % 26 === 0) {
                    ans += String.fromCharCode(26 + 64);
                    n = (n / 26 - 1);
                } else {
                    ans += String.fromCharCode(n % 26 + 64);
                    n = Math.floor(n / 26);
                }
            }
            return ans.split('').reverse().join('');
        }

        // console.log(a(343));
    })();
</script>
<p>171.求众数</p>
<script data-msg="171.求众数">
    (() => {
        const arr = [12, 3, 4, 5, 23, 123545, 231, 51, 2343, 5, 87, 23, 5, 6, 7, 8, 7, 6, 4, 8, 3, 3983, 31, 756, 13, 8, 42, 7, 3, 2];

        function getValue(arr) {
            const hash = {};
            let max = -Infinity;
            let maxValue = 0;
            arr.forEach(function (item, index) {
                hash[item] = hash[item] || 0;
                hash[item]++;
                if (max < hash[item]) {
                    max = hash[item];
                    maxValue = item;
                }
            });
            return maxValue;
        }

        const res = getValue(arr);
        // console.log(res);
    })();
</script>
<p class="red">172.阶乘后的零</p>
<script data-msg="172.阶乘后的零">
    (() => {
        function getValue(n, prev) {
            prev = prev || BigInt(1);
            n = BigInt(n);
            if (n === BigInt(1)) {
                return n * prev;
            }
            if (n === BigInt(0)) {
                return 0;
            }
            prev = n * prev;
            return getValue(n - BigInt(1), prev);
        }


        function getZeroCount(n) {
            n = BigInt(n);
            let _n = 0;
            while (n > BigInt(10) && n % BigInt(10) === BigInt(0)) {
                n = n / BigInt(10);
                _n++;
            }
            return _n;
        }

        const res = getValue(222);
        // console.log(res);
        // console.log(getZeroCount(res));


        function tra(n) {
            let ans = 0;
            while (n) {
                n = Math.floor(n / 5);
                ans += n;
            }
            return ans;
        }

        // console.log(tra(15));
    })();
</script>
<p>189.旋转数组</p>
<script data-msg="189.旋转数组">
    (() => {
        let arr = ["1", "2", "3", "4", "5", "6", "7"];
        const len = arr.length;

        //  1.
        function getValue1(n) {
            n = n % len;
            if (n === 0) {
                return;
            }
            do {
                let last = arr[len - 1];
                for (let i = len - 1; i > 0; i--) {
                    arr[i] = arr[i - 1];
                }
                arr[0] = last;
            } while (--n);
        }

        // getValue1(0);
        // console.log(arr);

        //  2.
        function getValue2(n) {
            n = n % len;
            if (n === 0) {
                return;
            }
            let temp = arr.slice(-n, len);
            arr.splice(-n, n);
            Array.prototype.unshift.apply(arr, temp);
        }

        getValue2(3);
        // console.log(arr);
    })();
</script>
<p class="red">190.颠倒二进制位</p>
<script data-msg="190.颠倒二进制位">
    (() => {
        //  需理解题意
        const num = 43261596;

        function getValue1(n = 0) {
            return parseInt(n.toString(2).split('').reverse().join(''), 2);
        }

        function getValue2(n) {
            let str = [];
            //  先转二进制
            while (n) {
                const yu = n % 2;
                str.unshift(yu);
                n = ~~(n / 2);
            }
            return parseInt(str.reverse().join(''), 2);
        }

        // console.log(getValue1(num));
        // console.log(getValue2(num));

        //  缓存了数据
        const sum = [];
        sum[0] = 1;
        for (let i = 1; i <= 32; i++) {
            sum[i] = 2 * sum[i - 1];
        }

        // console.log(sum);

        function getValue3(n = 0) {
            const temp = ('00000000000000000000000000000000' + n.toString(2)).slice(-32);
            let ans = 0;
            for (let i = 0, len = temp.length; i < len; i++) {
                if (temp[i] === '1') {
                    ans += sum[i];
                }
            }
            return ans;
        }

        // console.log(getValue3(num))
    })();
</script>
<p>191.位1的个数</p>
<script data-msg="191.位1的个数">
    (() => {
        function getValue1(n = 0) {
            return n.toString(2).match(/1/ig).length;
        }

        // console.log(getValue1(65535));
        function getValue2(n) {
            let ans = 0;
            while (n) {
                const yu = n % 2;
                ans += yu;
                n -= yu;
                n /= 2;
            }
            return ans;
        }
    })();
</script>
<p>198.打家劫舍</p>
<script data-msg="198.打家劫舍">
    (() => {
        const arr = [2, 43, 8, 2, 89, 0, 3, 12, 5, 8, 4, 21];

        function getValue1() {
            const data = [];
            data[0] = [];
            data[1] = [];
            data[0][0] = arr[0];
            data[1][0] = arr[1];
            console.log(data);
            for (let i = 1, len = arr.length; i < len; i++) {

            }
        }

        function getValue2(nums) {
            const len = nums.length;
            if (!len) {
                return 0;
            }
            const dp = [];
            dp[0] = [];
            dp[0][0] = 0;
            dp[0][1] = nums[0];
            for (let i = 1; i < len; i++) {
                dp[i] = [];
                dp[i][0] = Math.max(dp[i - 1][0], dp[i - 1][1]);
                dp[i][1] = dp[i - 1][0] + nums[i];
                // console.log(JSON.parse(JSON.stringify(dp)));
            }
            return Math.max(dp[len - 1][0], dp[len - 1][1]);
        }


        function getValue3(n, total) {
            n = n || 0;
            total = total || 0;
            if (n >= arr.length) {
                return total;
            }
            total += arr[n];
            // console.log(total);
            return Math.max(getValue3(n + 2, total), getValue3(n + 3, total));
        }

        // console.time('a');
        // console.log(getValue2(arr));
        // console.timeEnd('a');
        // console.time('b');
        // console.log(getValue3());
        // console.timeEnd('b');
    })();
</script>
<p>extra.爬楼梯</p>
<script data-msg="extra.爬楼梯">
    //  假设你正在爬楼梯。需要 n 阶你才能到达楼顶。
    //  每次你可以爬 1 或 2 个台阶。你有多少种不同的方法可以爬到楼顶呢？
    //  1.1 -> 1
    //  2.2 -> 11 2
    //  3.3 -> 111 12 21
    //  4.5 -> 1111 112 121 211 22
    //  5.8 -> 11111 1112 1121 1211 2111 122 212 221

    //  如果看到这儿，应该符合 层数[n-1]*2-1

    //  6.13 -> 111111 11112 11121 11211 12111 21111 1122 1212 1221 2112 2121 2211 222

    //  是斐波那契，但是为什么是？
    //  因为爬楼梯到第n层，最后一步可能是1层，也可能是两层，有且只有这两种情况。所以是n-1层步数和n-2层步数的和。
    //  问的是多少方法，所以n-1层的步数不需要最后+1，n-2也不需要+2。
    (() => {
        function getValue(n) {
            if (n <= 0) {
                return 0;
            }
            if (n === 1) {
                return 1;
            }
            if (n === 2) {
                return 2;
            }
            return getValue(n - 1) + getValue(n - 2);
        }

        for (let i = 0; i < 10; i++) {
            // console.log(i, getValue(i));
        }
    })();
</script>
<p>extra.斐波那契</p>
<script data-msg="extra.斐波那契">
    (() => {
        //  1.1
        //  2.2
        //  3.3
        //  4.5
        //  5.8
        //  6.13
        function f(n) {
            let a = 0;
            let b = 1;
            if (n <= 1) {
                return 1;
            }
            while (--n) {
                let c = a;
                a = b;
                b += c;
            }
            return a + b;
        }

        for (let i = 0; i < 10; i++) {
            // console.log(f(i));
        }

        /**
         * @param:n,次数
         * @param:_total,前一次的
         * @param:total，当前总数
         * */
        function f1(n, _total, total) {
            _total = _total || 1;
            total = total || 1;
            if (n <= 1) {
                return total;
            }
            return f1(n - 1, total, _total + total);
        }

        for (let i = 0; i < 10; i++) {
            // console.log(f1(i));
        }
    })();
</script>
<p>202.快乐数</p>
<script data-msg="202.快乐数">
    (() => {
        function getValue(n) {
            let arr = [];
            let _n = n;
            do {
                let m = 0;
                n = n.toString();
                for (let i = n.length - 1; i >= 0; i--) {
                    m += Math.pow(+n[i], 2);
                }
                n = m;
                if (arr.indexOf(m) !== -1) {
                    return false;
                }
                if (m === 1) {
                    console.log(_n);
                    return true;
                }
                arr.push(m);
            } while (1);
        }

        //  1, 7, 10, 13, 19, 23, 28, 31, 32, 44, 49, 68, 70, 79, 82, 86, 91, 94, 97, 100。
        for (let i = 0; i <= 100; i++) {
            // getValue(i);
        }
    })();
</script>
<p>203.删除链表中的节点</p>
<script data-msg="203.删除链表中的节点">
    (() => {
        let _arr = [];

        function deleteValue(value) {
            for (let i = 0; i < _arr.length; i++) {
                if (_arr[i].value === value) {
                    _arr.splice(i, 1);
                    if (_arr[i - 1]) {
                        if (_arr[i]) {
                            _arr[i - 1].next = _arr[i];
                        }
                    } else {
                        _arr[i].isHead = true;
                    }
                    break;
                }
            }
        }
    })();
</script>
<p>204.计数质数</p>
<script data-msg="204.计数质数">
    (() => {
        //  key：第几个数，value：有几个质数
        const arr = {
            1: 0,
        };

        function getValue(n) {
            if (arr[n] !== undefined) {
                return arr[n];
            }
            arr[n] = arr[n - 1];
            let _n = 2;
            const s_n = Math.sqrt(n);
            let isHe = false;
            while (_n <= s_n) {
                if (n % _n === 0) {
                    isHe = true;
                    break;
                }
                _n++;
            }
            if (!isHe) {
                arr[n] = arr[n - 1] + 1;
            }
            return arr.length;
        }

        for (let i = 1; i < 100; i++) {
            let res = getValue(i);
            // console.log(res);
        }
        // console.log(arr);
        // console.log(getValue(10))
    })();
</script>
<p>205.同构字符串</p>
<script data-msg="205.同构字符串">
    (() => {
        function getValue(str1, str2) {
            str1 = str1.toString();
            str2 = str2.toString();
            let obj1 = {};
            let obj2 = {};
            for (let i = 0; i < str1.length; i++) {
                obj1[str1[i]] = (obj1[str1[i]] || 0) + 1;
                obj2[str2[i]] = (obj2[str2[i]] || 0) + 1;
            }
            // console.log(obj1);
            // console.log(obj2);
            return obj1.toString() === obj2.toString();
        }

        const res = getValue(12122, 'ababb');
        // console.log(res);
    })();
</script>
<p>217.存在重复元素</p>
<script data-msg="217.存在重复元素">
    (() => {
        function getValue(arr) {
            const hash = {};
            for (let i = 0; i < arr.length; i++) {
                //  重复
                if (hash[arr[i]]) {
                    return true;
                }
                hash[arr[i]] = 1;
            }
        }

        const arr = [1, 2, 3, 5, 4, 3];
        // console.log(getValue(arr));
    })();
</script>
<p>219.存在重复元素二</p>
<script data-msg="219.存在重复元素二">
    (() => {
        function getValue(arr, _dif) {
            const hash = {};
            for (let i = 0; i < arr.length; i++) {
                //  如果有重复
                if (hash[arr[i]]) {
                    //  判断距离
                    if (hash[arr[i]] + _dif <= i) {
                        console.log(hash, arr[i]);
                        return true;
                    }
                }
                //  是新的数
                hash[arr[i]] = i;
            }
            console.log(hash);
            return false;
        }

        const arr = [21, 34, 3, 63, 21, 2, 4, 73, 12, 1, 3, 1, 3];
        // const res = getValue(arr, 3);
        // console.log(res);
    })();
</script>
<p>225.用队列实现栈</p>
<script data-msg="225.用队列实现栈">
    (() => {
        function Stack() {
            this.arr = [];
        }

        Stack.prototype.push = function (x) {
            this.arr.push(x);
        }
    })();
</script>
<p>226.反转二叉树</p>
<script data-msg="226.反转二叉树">
    (() => {
        const obj = {
            value: 4,
            prev: {
                value: 2,
                prev: {
                    value: 1,
                },
            },
            next: {
                value: 6,
                prev: {
                    value: 5,
                }
            }
        };

        function getValue(obj) {
            const prev = obj.prev;
            obj.prev = obj.next || null;
            obj.next = prev || null;
            obj.prev && getValue(obj.prev);
            obj.next && getValue(obj.next);
        }

        // console.log(JSON.parse(JSON.stringify(obj)));
        getValue(obj);
        // console.log(obj);
    })();
</script>
<p>231.2的幂</p>
<script data-msg="231.2的幂">
    (() => {
        function getValue(n) {
            return ((Math.log(n) / Math.log(2)) % 1) === 0;
        }

        // console.log(getValue(17))
    })();
</script>
<p>232.用栈实现队列</p>
<script data-msg="232.用栈实现队列">
    (() => {
        //  略
    })();
</script>
<p>234.回文链表</p>
<script data-msg="234.回文链表">
    (() => {
        const obj = {
            value: 1,
            next: {
                value: 2,
                next: {
                    value: 3,
                    next: {
                        value: 2,
                        next: {
                            value: 1
                        }
                    }
                }
            }
        };

        function getValue(obj) {
            let str = '';
            do {
                str += obj.value;
                obj = obj.next;
            } while (obj);
            for (let i = 0; i < str.length; i++) {
                if (str[i] !== str[str.length - 1 - i]) {
                    return false;
                }
            }
            return true;
        }

        const res = getValue(obj);
        // console.log(res);
    })();
</script>
<p class="red">235.二叉搜索树的最近公共祖先</p>
<script data-msg="235.二叉搜索树的最近公共祖先">
    (() => {
        //  二叉搜索树是按大小排序的
        const next = {
            value: 11,
            prev: {
                value: 10,
            }
        };
        const prev = {
            value: 8,
        };
        const obj = {
            value: 5,
            prev: {
                value: 3,
                next: {
                    value: 4,
                },
            },
            next: {
                value: 9,
                prev: {
                    value: 7,
                    next: next
                },
                next: {
                    value: 14,
                    prev: prev,
                }
            }
        };
        const res = getValue(obj, prev, next);

        // console.log(res);

        function getValue(obj, prev, next) {
            let value = obj.value;
            let pValue = prev.value;
            let nValue = next.value;
            //  夹击
            if (value > pValue && value < nValue) {
                return obj;
            }
            //  向右查找
            if (value < pValue) {
                return getValue(obj.next, prev, next);
            }
            if (value > nValue) {
                return getValue(obj.prev, prev, next);
            }
        }
    })();
</script>
<p>237.删除链表节点</p>
<script data-msg="237.删除链表节点">
    (() => {
        //  略
    })();
</script>
<p>242.有效的字母异位词</p>
<script data-msg="242.有效的字母异位词">
    (() => {
        //  就是用的字母都一样，排序变了
        function getValue(str1, str2) {
            if (str1.length !== str2.length) {
                return false;
            }
            return (str1.split('').sort().join() === str2.split('').sort().join());
        }

        const res = getValue('323221,', '221,321');
        // console.log(res);
    })();
</script>
<p class="red">257.二叉树的所有路径</p>
<script data-msg="257.二叉树的所有路径">
    (() => {
        //  略，有几个叶子节点就有几个路径
    })();
</script>
<p>258.各位相加</p>
<script data-msg="258.各位相加">
    (() => {
        function getValue1(n) {
            n = n.toString();
            while (n >= 10) {
                n = n.toString();
                let res = 0;
                for (let i = 0; i < n.length; i++) {
                    res += +n[i];
                }
                n = res;
            }
            return n;
        }

        //  谁tm知道了？
        function getValue2(n) {
            return 1 + (n - 1) % 9;
        }

        // const res = getValue1(2273);
        const res = getValue2(2273);
        // console.log(res);
    })();
</script>
<p class="red">263.丑数</p>
<script data-msg="263.丑数">
    (() => {
        function getValue(n) {
            //  用这些因数除，直到除到除不尽
            for (let i = 0; i < arr.length; i++) {
                while (n % arr[i] === 0) {
                    n /= arr[i];
                }
            }
            //  除不尽就是有其他到因数
            return n === 1;
        }

        //  只有这些因数
        const arr = [2, 3, 5];
        const res = getValue(128);
        // console.log(res);
    })();
</script>
<p>268.缺失数字</p>
<script data-msg="268.缺失数字">
    (() => {
        const arr = [9, 6, 4, 2, 3, 5, 7, 0, 1];

        function getValue(arr) {
            const obj = {};
            for (let i = 0; i < arr.length; i++) {
                obj[arr[i]] = 1;
            }
            for (let i = 0; i <= arr.length; i++) {
                if (obj[i] === undefined) {
                    return i;
                }
            }
        }

        const res = getValue(arr);
        // console.log(res);
    })();
</script>
</body>
</html>





















